{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/rocky/schule/devinche/devinche-frontend/devinche-client/src/components/ProtectedRoute.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  /** Where to redirect if not authenticated. Default: /login */\n  redirectTo?: string;\n  /** Optional: redirect path to append as returnUrl query (e.g. ?returnUrl=/editor) */\n  appendReturnUrl?: boolean;\n}\n\n/**\n * Wraps content that requires authentication. Redirects to login if not authenticated.\n * Use in client pages or layouts for /editor, /validation-rules, etc.\n */\nexport default function ProtectedRoute({\n  children,\n  redirectTo = '/login',\n  appendReturnUrl = true,\n}: ProtectedRouteProps) {\n  const { isAuthenticated, loading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    if (loading) return;\n    if (!isAuthenticated) {\n      const url = appendReturnUrl && pathname\n        ? `${redirectTo}?returnUrl=${encodeURIComponent(pathname)}`\n        : redirectTo;\n      router.replace(url);\n    }\n  }, [loading, isAuthenticated, router, redirectTo, pathname, appendReturnUrl]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[var(--editor-bg,#e8eaed)]\">\n        <div className=\"text-[var(--editor-text,#111)]\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAkBe,SAAS,eAAe,EACrC,QAAQ,EACR,aAAa,QAAQ,EACrB,kBAAkB,IAAI,EACF;;IACpB,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,mKAAO;IAC5C,MAAM,SAAS,IAAA,wKAAS;IACxB,MAAM,WAAW,IAAA,0KAAW;IAE5B,IAAA,gMAAS;oCAAC;YACR,IAAI,SAAS;YACb,IAAI,CAAC,iBAAiB;gBACpB,MAAM,MAAM,mBAAmB,WAC3B,GAAG,WAAW,WAAW,EAAE,mBAAmB,WAAW,GACzD;gBACJ,OAAO,OAAO,CAAC;YACjB;QACF;mCAAG;QAAC;QAAS;QAAiB;QAAQ;QAAY;QAAU;KAAgB;IAE5E,IAAI,SAAS;QACX,qBACE,mNAAC;YAAI,WAAU;sBACb,cAAA,mNAAC;gBAAI,WAAU;0BAAiC;;;;;;;;;;;IAGtD;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GAhCwB;;QAKe,mKAAO;QAC7B,wKAAS;QACP,0KAAW;;;KAPN"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///home/rocky/schule/devinche/devinche-frontend/devinche-client/src/components/ThemeToggleButton.tsx"],"sourcesContent":["'use client';\n\nimport { Sun, Moon } from 'lucide-react';\nimport { useTheme } from '@/contexts/ThemeContext';\n\ntype Props = {\n  className?: string;\n};\n\nexport default function ThemeToggleButton({ className }: Props) {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <button\n      type=\"button\"\n      onClick={toggleTheme}\n      title={theme === 'dark' ? 'Switch to Light Theme' : 'Switch to Dark Theme'}\n      aria-label={theme === 'dark' ? 'Switch to Light Theme' : 'Switch to Dark Theme'}\n      className={`inline-flex items-center px-2.5 py-2 rounded-full border transition-colors ${className || ''}`}\n      style={{\n        background: 'white',\n        color: '#1f2937',\n        borderColor: '#e5e7eb',\n      }}\n      data-theme-aware\n    >\n      {theme === 'dark' ? <Sun size={18} /> : <Moon size={18} />}\n      <style jsx>{`\n        :global([data-theme=\"dark\"]) [data-theme-aware] {\n          background: var(--editor-surface);\n          color: var(--editor-text);\n          border-color: var(--editor-border);\n        }\n        :global([data-theme=\"dark\"]) [data-theme-aware]:hover {\n          background: var(--editor-surface-hover);\n        }\n      `}</style>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAAA;AACA;;;AAHA;;;;AASe,SAAS,kBAAkB,EAAE,SAAS,EAAS;;IAC5D,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,qKAAQ;IAEvC,qBACE,mNAAC;QACC,MAAK;QACL,SAAS;QACT,OAAO,UAAU,SAAS,0BAA0B;QACpD,cAAY,UAAU,SAAS,0BAA0B;QAEzD,OAAO;YACL,YAAY;YACZ,OAAO;YACP,aAAa;QACf;QACA,kBAAgB;iDANL,CAAC,2EAA2E,EAAE,aAAa,IAAI;;YAQzG,UAAU,uBAAS,mNAAC,gOAAG;gBAAC,MAAM;;;;;qCAAS,mNAAC,mOAAI;gBAAC,MAAM;;;;;;;;;;;;;;;;AAa1D;GA9BwB;;QACS,qKAAQ;;;KADjB"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///home/rocky/schule/devinche/devinche-frontend/devinche-client/src/components/LanguageSwitcher.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useState } from 'react';\nimport { ChevronDown, Globe } from 'lucide-react';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { Locale } from '@/contexts/LanguageContext';\n\n/**\n * Supported locales. To add a language later:\n * 1. Add an entry here (value = locale code, label = display name).\n * 2. In LanguageContext: extend Locale type, import the new locale JSON, add to messages, and handle in setLocaleState/load.\n * 3. Add src/locales/{code}.json with the same key structure as en.json.\n */\nexport const LOCALE_OPTIONS: { value: Locale; label: string }[] = [\n  { value: 'en', label: 'English' },\n  { value: 'de', label: 'Deutsch' },\n  { value: 'uk', label: 'Українська' },\n  { value: 'ru', label: 'Русский' },\n  { value: 'ko', label: '한국어' },\n  { value: 'ur', label: 'اردو' },\n  { value: 'ar', label: 'العربية' },\n  { value: 'ja', label: '日本語' },\n  { value: 'zh', label: '中文' },\n  { value: 'fr', label: 'Français' },\n  { value: 'tr', label: 'Türkçe' },\n  { value: 'sq', label: 'Shqip' },\n];\n\ninterface LanguageSwitcherProps {\n  className?: string;\n  /** For dark header (e.g. home): use light text. */\n  variant?: 'default' | 'darkHeader';\n}\n\nexport default function LanguageSwitcher({ className = '', variant = 'default' }: LanguageSwitcherProps) {\n  const { locale, setLocale } = useLanguage();\n  const [open, setOpen] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n  const isDark = variant === 'darkHeader';\n\n  const currentLabel = LOCALE_OPTIONS.find((o) => o.value === locale)?.label ?? locale;\n\n  useEffect(() => {\n    const onDocClick = (e: MouseEvent) => {\n      if (ref.current && !ref.current.contains(e.target as Node)) setOpen(false);\n    };\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') setOpen(false);\n    };\n    document.addEventListener('mousedown', onDocClick, true);\n    document.addEventListener('keydown', onKey, true);\n    return () => {\n      document.removeEventListener('mousedown', onDocClick, true);\n      document.removeEventListener('keydown', onKey, true);\n    };\n  }, []);\n\n  return (\n    <div ref={ref} className={`relative ${className}`}>\n      <button\n        type=\"button\"\n        onClick={() => setOpen((v) => !v)}\n        className=\"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg border text-xs font-medium transition-colors\"\n        style={{\n          borderColor: isDark ? 'rgba(255,255,255,0.3)' : 'var(--editor-bar-border)',\n          backgroundColor: open ? (isDark ? 'rgba(255,255,255,0.2)' : 'var(--editor-surface-hover)') : 'transparent',\n          color: isDark ? '#fff' : 'var(--editor-text-secondary)',\n        }}\n        aria-haspopup=\"listbox\"\n        aria-expanded={open}\n        aria-label=\"Select language\"\n      >\n        <Globe size={14} className=\"flex-shrink-0 opacity-80\" />\n        <span className=\"max-w-[100px] truncate\">{currentLabel}</span>\n        <ChevronDown size={12} className={`flex-shrink-0 opacity-70 transition-transform ${open ? 'rotate-180' : ''}`} />\n      </button>\n\n      {open && (\n        <ul\n          role=\"listbox\"\n          className=\"absolute right-0 top-full mt-1 min-w-[140px] rounded-lg border py-1 z-50 shadow-lg\"\n          style={{\n            backgroundColor: 'var(--editor-panel-bg)',\n            borderColor: 'var(--editor-border)',\n            boxShadow: '0 8px 16px var(--editor-shadow-lg)',\n          }}\n        >\n          {LOCALE_OPTIONS.map((opt) => (\n            <li key={opt.value} role=\"option\" aria-selected={locale === opt.value}>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setLocale(opt.value);\n                  setOpen(false);\n                }}\n                className=\"w-full text-left px-3 py-2 text-sm hover:bg-[var(--editor-surface-hover)] transition-colors first:rounded-t-lg last:rounded-b-lg\"\n                style={{\n                  color: locale === opt.value ? 'var(--editor-accent)' : 'var(--editor-text)',\n                  backgroundColor: locale === opt.value ? 'var(--editor-surface-hover)' : 'transparent',\n                }}\n              >\n                <span className={locale === opt.value ? 'font-medium' : ''}>{opt.label}</span>\n              </button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///home/rocky/schule/devinche/devinche-frontend/src/app/validation-rules/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport ProtectedRoute from '@/components/ProtectedRoute';\nimport ThemeToggleButton from '@/components/ThemeToggleButton';\nimport LanguageSwitcher from '@/components/LanguageSwitcher';\n\nexport default function ValidationRulesPage() {\n    return (\n        <ProtectedRoute>\n        <div className=\"min-h-screen bg-[#e8eaed] relative overflow-hidden\" data-page=\"validation-rules\">\n            <div\n                className=\"absolute inset-0 pointer-events-none\"\n                style={{\n                    backgroundImage: `\n            linear-gradient(to right, #d1d5db 1px, transparent 1px),\n            linear-gradient(to bottom, #d1d5db 1px, transparent 1px)\n          `,\n            backgroundSize: \"4cm 4cm\",\n          }}\n        />\n\n            <header className=\"bg-[#4a5568] py-5 px-8 flex justify-between items-center relative z-20\">\n                <Link href=\"/editor\" className=\"w-12 h-12\">\n                    <Image\n                        src=\"/devince_log.svg\"\n                        alt=\"Devinche Logo\"\n                        width={48}\n                        height={48}\n                        className=\"w-full h-full\"\n                    />\n                </Link>\n                <div className=\"flex items-center gap-3\">\n                    <LanguageSwitcher variant=\"darkHeader\" />\n                    <ThemeToggleButton />\n                    <Link\n                        href=\"/editor\"\n                        className=\"bg-white text-gray-800 px-8 py-2.5 rounded-full font-medium hover:bg-gray-100 transition-colors text-sm\"\n                    >\n                        Back to Editor\n                    </Link>\n                </div>\n            </header>\n\n        <main className=\"relative h-[calc(100vh-100px)] flex items-center justify-center\">\n          <div className=\"relative z-10 text-center px-4 max-w-3xl -mt-80\">\n            <div className=\"text-left mt-10 p-6 bg-white/80 rounded-lg border border-gray-200 shadow-sm\">\n              <h1\n                className=\"text-5xl font-bold text-gray-900 mb-6 leading-tight\"\n              >\n                The rules of WAM\n              </h1>\n              <ol className=\"text-xl\">\n                <li className=\"text-left mb-2\">\n                  1. Trust relationships can only exists between two security\n                  realms\n                </li>\n                <li className=\"text-left mb-2\">\n                  2. Invocation relationships can only exist in the following\n                  forms:\n                  <ul className=\"list-disc list-inside ml-5\">\n                    <li className=\"text-left mb-1\">\n                      From application node to service node\n                    </li>\n                    <li className=\"text-left mb-1\">\n                      From service node to service node\n                    </li>\n                  </ul>\n                </li>\n                <li className=\"text-left mb-2\">\n                  3. Legacy relationships can only exist in the following forms:\n                </li>\n                <ul className=\"list-disc list-inside ml-5\">\n                  <li className=\"text-left mb-1\">\n                    From application node to data unit\n                  </li>\n                  <li className=\"text-left mb-1\">\n                    From application node to processing unit\n                  </li>\n                  <li className=\"text-left mb-1\">\n                    From service node to data unit\n                  </li>\n                  <li className=\"text-left mb-1\">\n                    From service node to processing unit\n                  </li>\n                </ul>\n                <li className=\"text-left mb-2\">\n                  4. Security realms must contain another node\n                </li>\n                <li className=\"text-left mb-2\">\n                  5. Identity providors cannot have any relationships\n                </li>\n              </ol>\n\n            </div>\n          </div>\n        </main>\n            <style jsx>{`\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] {\n                    background: var(--editor-bg);\n                    color: var(--editor-text);\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] header {\n                    background: var(--editor-surface);\n                    border-bottom: 1px solid var(--editor-border);\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] h1,\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] h2 {\n                    color: var(--editor-text);\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] p,\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] li,\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] .text-gray-700,\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] .text-gray-600 {\n                    color: var(--editor-text-secondary);\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] .text-gray-900 {\n                    color: var(--editor-text);\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] [data-validation-card] {\n                    background: var(--editor-surface) !important;\n                    border-color: var(--editor-border) !important;\n                }\n                :global([data-theme=\"dark\"]) [data-page=\"validation-rules\"] {\n                    background-image:\n                        linear-gradient(to right, var(--editor-grid) 1px, transparent 1px),\n                        linear-gradient(to bottom, var(--editor-grid) 1px, transparent 1px) !important;\n                }\n            `}</style>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS;IACpB,qBACI,mNAAC,wKAAc;kBACf,cAAA,mNAAC;YAAmE,aAAU;sDAA/D;;8BACX,mNAAC;oBAEG,OAAO;wBACH,iBAAiB,CAAC;;;UAG5B,CAAC;wBACC,gBAAgB;oBAClB;8DAPgB;;;;;;8BAUd,mNAAC;8DAAiB;;sCACd,mNAAC,gMAAI;4BAAC,MAAK;4BAAU,WAAU;sCAC3B,cAAA,mNAAC,iKAAK;gCACF,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAGlB,mNAAC;sEAAc;;8CACX,mNAAC,0KAAgB;oCAAC,SAAQ;;;;;;8CAC1B,mNAAC,2KAAiB;;;;;8CAClB,mNAAC,gMAAI;oCACD,MAAK;oCACL,WAAU;8CACb;;;;;;;;;;;;;;;;;;8BAMb,mNAAC;8DAAe;8BACd,cAAA,mNAAC;kEAAc;kCACb,cAAA,mNAAC;sEAAc;;8CACb,mNAAC;8EACW;8CACX;;;;;;8CAGD,mNAAC;8EAAa;;sDACZ,mNAAC;sFAAa;sDAAiB;;;;;;sDAI/B,mNAAC;sFAAa;;gDAAiB;8DAG7B,mNAAC;8FAAa;;sEACZ,mNAAC;sGAAa;sEAAiB;;;;;;sEAG/B,mNAAC;sGAAa;sEAAiB;;;;;;;;;;;;;;;;;;sDAKnC,mNAAC;sFAAa;sDAAiB;;;;;;sDAG/B,mNAAC;sFAAa;;8DACZ,mNAAC;8FAAa;8DAAiB;;;;;;8DAG/B,mNAAC;8FAAa;8DAAiB;;;;;;8DAG/B,mNAAC;8FAAa;8DAAiB;;;;;;8DAG/B,mNAAC;8FAAa;8DAAiB;;;;;;;;;;;;sDAIjC,mNAAC;sFAAa;sDAAiB;;;;;;sDAG/B,mNAAC;sFAAa;sDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2C/C;KA7HwB"}}]
}